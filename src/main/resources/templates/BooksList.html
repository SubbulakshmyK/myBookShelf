<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
	<meta charset="UTF-8">
	<title>My Library - List of Books</title>
	<link rel="stylesheet" type="text/css" href="defaultTheme.css" />
	<link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css" />	
	<script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
    
    <script type="text/javascript" src="/js/header.js"></script>
</head>
<body>
	<div class="container text-left" sec:authorize="isAuthenticated()">
		<img th:src="@{/images/mybookshelf.png}" />Welcome <b><span
			sec:authentication="name">user_name!</span></b>
		<div class="container-fluid">
			<ul class="nav">
				<li class="active"><a th:href="@{/Welcome}">Home</a></li>
				<li><a th:href="@{/Books}">Books</a></li>
					<li sec:authorize="hasAnyAuthority('ADMIN', 'MEMBER')"> <a th:href="@{/listUsers}">Users</a></li>
				<li><a th:href="@{/logout}"> <b>Sign Out</b></a></li>
			</ul>
		</div>
	

		<div align="center">
			<div>
				<h1>List of Books</h1>
				<div sec:authorize="hasAnyAuthority('ADMIN', 'MEMBER')">
					<a href="/addBooks">Add New Books</a>
				</div>
			</div>
			<table class="table table-striped table-bordered">
				<thead class="thead-dark">
					<tr>
						<th>Book ID</th>
						<th>Book Name</th>
						<th>Description</th>
						<th>Language</th>
					</tr>
				</thead>
				<tbody>
					<tr th:if="${booksList.empty}">
						<td colspan="4">No Books Available</td>
					</tr>
					<tr th:each="book : ${booksList}">
						<td th:text="${book.bookId}">Book ID</td>
						<td th:text="${book.bookName}">Book Name</td>
						<td th:text="${book.description}">Description</td>
						<td th:text="${book.language}">Language</td>
						<td>
							<a th:href="@{/viewBook/id={id} (id=${book.bookId})}">View</a>
							<div sec:authorize="hasAnyAuthority('ADMIN', 'MEMBER')">
								<a th:href="@{/editBook/id={id} (id=${book.bookId})}">Edit</a>
							</div>
							<div sec:authorize="hasAnyAuthority('ADMIN')">
								<a th:href="@{/deleteBook/id={id} (id=${book.bookId})}">Delete</a>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</html>