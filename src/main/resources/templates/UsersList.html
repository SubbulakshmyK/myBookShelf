<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
	<meta charset="UTF-8">
	<title>My Library - List of Users</title>
	<link rel="stylesheet" type="text/css" href="defaultTheme.css" />
	<link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css" />	
	<script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
    
    <script type="text/javascript" src="/js/header.js"></script>
</head>
<body>
	<div class="container text-left" sec:authorize="isAuthenticated()">
		<img th:src="@{/images/mybookshelf.png}" />Welcome <b><span
			sec:authentication="name">userName!</span></b><span sec:authentication="principal.authorities">Roles</span>
		<div class="container-fluid">
			<ul class="nav">
				<li class="active"><a th:href="@{/Welcome}">Home</a></li>
				<li><a th:href="@{/Books}">Books</a></li>
					<li sec:authorize="hasAnyAuthority('ADMIN', 'MEMBER')"> <a th:href="@{/listUsers}">Users</a></li>
				<li><a th:href="@{/logout}"> <b>Sign Out</b></a></li>
			</ul>
		</div>
	</div>
	<div align="center">
		<h1>Users List</h1>
		<a href="/addUser">Add New User</a><br />
		<br />
 		<table class="table table-striped table-bordered">
			<thead class="thead-dark">
				<tr>
					<th>User Name</th>
					<th>E-mail</th>
					<th>Full Name</th>
					<th>Mobile No.</th>
					<th>Roles</th>
					<th>Enabled?</th>
					<th></th>
				</tr>
			</thead>
 			<tbody>
				<tr th:if="${usersList.empty}">
					<td colspan="4">No Users Available</td>
				</tr>
				<tr th:each="user : ${usersList}">
					<td th:text="${user.userName}">User Name</td>
					<td th:text="${user.email}">E-mail</td>
					<td th:text="${user.fullName}">Full Name</td>
					<td th:text="${user.mobileNo}">Full Name</td>
					<td th:text="${user.roles}">Roles</td>
					<td th:text="${user.enabled}" >Enabled</td>
					<td ><a th:href="@{'/editUser/' + ${user.userId}}">Edit</a>
						&nbsp;&nbsp;&nbsp; <a
						th:href="@{'/deleteUser/' + ${user.userId}}">Delete</a></td>
				</tr>
			</tbody> 
		</table> 
	</div>
</html>